/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package gui;

import java.awt.Color;
import java.awt.Component;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.geom.Line2D;
import java.awt.geom.Rectangle2D;
import java.util.ArrayList;
import java.util.Iterator;
import paulousimulationcode.Manet;
import paulousimulationcode.Node;
import paulousimulationcode.Utilities;

/**
 *
 * @author Zolotas
 */
public class painter extends Component {

    private Manet network;

    public void paint(Graphics g) {
        Graphics2D g2 = (Graphics2D) g;
        //g2.clearRect(0, 0, (int) Utilities.xBound*15, (int) Utilities.yBound*15);
        for (Node n : network.getNodeSet()) {
            if(n.isManagerNode()){
                g.setColor(Color.red);
            }
            else if(n.isClusterHead()){
                g.setColor(Color.BLUE);
            }
            else{
                g.setColor(Color.black);
            }
            g2.draw(new Rectangle2D.Double(n.getPosition().getX()*15, n.getPosition().getY()*15,
                    10,
                    10));
             g.setColor(Color.black);
            ArrayList temp =(ArrayList) n.getNeighbours().clone();
            Iterator iter = temp.iterator();
            try {
                while (iter.hasNext()) {
                    Node nb = (Node) iter.next();
                    Line2D x= new Line2D.Double(n.getPosition().getX()*15, n.getPosition().getY()*15, nb.getPosition().getX()*15, nb.getPosition().getY()*15);
                    
                    g2.draw(x);
                }
            } catch (Exception e) {
            }

        }
    }

    public painter(Manet network) {
        this.network = network;
    }
}
